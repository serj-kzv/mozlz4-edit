<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>mozlz4-edit</title>

    <!--fetchEngineParamData-->
    <script src="js/lib/app/fetchEngineParams/FetchGoogleParams.js"></script>

    <!--dust.js-->
    <script src="js/lib/external/dust-full.min.js"></script>

    <!--file utils-->
    <script src="js/lib/app/fileUtil/FileUtil.js"></script>
    <script src="js/lib/app/fileUtil/OpenFileUtil.js"></script>
    <script src="js/lib/app/fileUtil/SaveFileUtil.js"></script>

    <!--SearchEngineUtil-->
    <script src="js/lib/app/SearchEngineUtil.js"></script>

    <!-- lz4 archiver -->
    <script src="js/lib/external/lz4.js"></script>

    <!-- mozlz4 archiver -->
    <script src="js/lib/app/mozLz4Archiver/command/MozLz4ArchiverCommand.js"></script>
    <script src="js/lib/app/mozLz4Archiver/command/MozLz4ArchiverCommandLz4.js"></script>
    <script src="js/lib/app/mozLz4Archiver/command/MozLz4ArchiverCommandMozJSSLz4.js"></script>
    <script src="js/lib/app/mozLz4Archiver/command/MozLz4ArchiverCommandMozLz4.js"></script>
    <script src="js/lib/app/mozLz4Archiver/command/MozLz4ArchiverCommandLz4ToolsLow.js"></script>
    <script src="js/lib/app/mozLz4Archiver/command/MozLz4ArchiverCommandLz4ToolsHigh.js"></script>
    <script src="js/lib/app/mozLz4Archiver/MozLz4Archiver.js"></script>
    <script src="js/lib/app/mozLz4Archiver/MozLz4ArchiverImpl.js"></script>

    <!-- codemirror -->
    <link rel="stylesheet" href="js/lib/external/codemirror/codemirror.css">
    <link rel="stylesheet" href="js/lib/external/codemirror/theme/liquibyte.css">
    <script src="js/lib/external/codemirror/codemirror.js"></script>
    <script src="js/lib/external/codemirror/mode/javascript.js"></script>
    <script src="js/lib/external/codemirror/addon/edit/closebrackets.js"></script>
    <script src="js/lib/external/codemirror/addon/selection/active-line.js"></script>
    <script src="js/lib/external/codemirror/addon/edit/matchbrackets.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <!--modal plugin-->
    <link rel="stylesheet" href="js/lib/app/modal/ModalPlugin.css">
    <link rel="stylesheet" href="js/lib/app/tab/TabPlugin.css">
    <script src="js/lib/app/modal/ModalPlugin.js"></script>
    <script src="js/lib/app/tab/TabPlugin.js"></script>

    <!-- app -->
    <script src="js/app/App.js"></script>
    <script src="js/app/Main.js"></script>
</head>

<body>
<div id="headerMenu">
    <!--<div>-->
    <!--<span>-->
    <!--<span>Warning!</span> You should not delete-->
    <!--<b>default</b> search engines if you edit a-->
    <!--<b>search.json.mozlz4</b>! In that case the Firefox will-->
    <!--<b>reset</b> the search engine list to a default state!-->
    <!--</span>-->
    <!--</div>-->
    <div class="left">
        <div>
            <label for="openFileBtn" class="file-label">
                Open file
                <input id="openFileBtn" type="file" accept=".lz4,.mozlz4,.jsonlz4,.baklz4,.json">
            </label>
            <button id="saveAsMozlz4Btn">Save as mozlz4</button>
            <button id="saveAsJsonBtn">Save as JSON</button>
            <button id="openJSONInNewTabBtn">Open in new tab</button>
            <button id="myBtn">Add engines</button>
        </div>
        <div>&nbsp;</div>
        <div>&nbsp;</div>
    </div>
    <div class="right">
        <div>
            <b>File:</b>
            <input type="text" id="fileInfo" readonly="readonly">
            <b>Type:</b>
            <input type="text" id="typeName" readonly="readonly">
        </div>
        <div>
            <b>Header:</b>
            <input type="text" id="mozHeader" readonly="readonly">
            <b>Name:</b>
            <input type="text" id="mozHeaderTxt" readonly="readonly">
        </div>
        <div>
            <b>Size header:</b>
            <input type="text" id="mozDecompSize" readonly="readonly">
            <b>Size:</b>
            <input type="text" id="mozDecompSizeTxt" readonly="readonly">
        </div>
    </div>
</div>
<div id="txtResultWrapper">
    <textarea id="txtResult"></textarea>
</div>

<!-- modal -->
<!-- The Modal -->
<div id="myModal" class="modal-hidden">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="modal-cls-btn">&times;</span>
        <div>
            <div style="visibility: hidden; height: 0px;">
                <b>Convert:</b>
                <label for="convertMozLz4ToLz4Btn">
                    Convert Mozilla's Lz4 to standart Lz4
                    <input id="convertMozLz4ToLz4Btn" type="file" accept=".lz4,.mozlz4,.jsonlz4,.baklz4,.json">
                </label>
                <button id="convertLz4ToMozLz4Btn">Convert Lz4 to standart Mozilla's Lz4</button>
            </div>
        </div>

        <div id="tabContainer"></div>

    </div>

</div>

<script type="text/dust" id="tab-list-tmpl">
    <div>
        {#types}
            <span class="TabPlugin-tab TabPlugin-tab-default {@first}TabPlugin-tab-default{/first}" data-target-tab-content-id="tab-content-{name}">
                {name}
            </span>
        {/types}
        <span class="TabPlugin-tab TabPlugin-tab-default" data-target-tab-content-id="tab-content-testTab">
            The addon testing
        </span>
    </div>
    <div class="tabContainer-content">
        {#types}
            <div class="TabPlugin-tab-content" id="tab-content-{name}">
                {#engines typeName=name}
                    <div class="engine-add-block">
                        <div class="engine-add-block-line">
                            <button class="add-engine-btn" data-engine-type="{typeName}" data-engine-name="{name}">
                                Add {name}
                            </button>
                        </div>
                        <div class="engine-add-block-line">
                            <input id="engine-add-name-input-{typeName}-{name}" type="text" value="{name}">
                        </div>
                        <div class="engine-add-block-line">
                            <input id="engine-add-url-input-{typeName}-{name}" type="text" value="{url}">
                        </div>
                        <div class="engine-add-block-line">
                            <input id="engine-add-icon-input-{typeName}-{name}" type="text" value="{icon}">
                        </div>
                        <div class="engine-add-block-line">
                            <label class="file-label open-icon-label">
                                Choose icon
                                <input data-target-id="engine-add-icon-input-{typeName}-{name}" class="engine-add-icon-btn" type="file" accept=".png,.icon,.ico">
                            </label>
                            <button data-target-id="engine-add-icon-input-{typeName}-{name}" class="engine-clr-icon-btn" type="file" accept=".png,.icon,.ico">
                                Clear icon
                            </button>
                            <img id="engine-add-icon-input-{typeName}-{name}-img" class="engine-add-icon-input-img" width="24" height="24" alt="engine icon">
                        </div>
                        {#params engineName=name}
                            <div class="engine-add-block-line">
                                <label for="engine-add-params-input-{typeName}-{engineName}-{$idx}" class="engine-add-params-input-label">
                                    {name}
                                </label>
                                <select id="engine-add-params-input-{typeName}-{engineName}-{$idx}" name="{param}" class="engine-add-params-input-select">
                                    <option value=""></option>
                                    {#values}
                                        <option value="{value}">{name} ( {value} )</option>
                                    {/values}
                                </select>
                            </div>
                        {/params}
                    </div>
                {/engines}
            </div>
        {/types}
        <div class="TabPlugin-tab-content" id="tab-content-testTab">
            <button id="addTestEngines">add 999 test engines</button>
        </div>
    </div>
</script>

</body>

</html>